
# Мастер-Документ Проекта: [НАЗВАНИЕ_ПРОЕКТА]

**Версия документа:** 0.0.1  
**Дата начала проекта:** [ГГГГ-ММ-ДД]  
**Участники:** [Твое Имя/Команда], AI‑Ассистент  

---

## 0. Описание Пайплайна «Дельта‑V»

**Назначение**  
Этот раздел описывает стандартизированный пайплайн разработки, применяемый в данном проекте.

**Основные этапы**

0. **Определение пользовательких характеристик**    
1. **Формирование «Семантической Матрицы»**  
2. **Выбор архитектуры и фреймворков**  
3. **Формирование совместимого окружения**  
4. **Универсальный скрипт проверки окружения**  
5. **Проектирование на уровне файлов («Паспорта файлов»)**  
6. **Проектирование на уровне функций («Контракты функций»)**  
7. **Написание кода, документации и логирования**  
8. **Сборка, тестирование и итерации**

**Ключевые принципы**

* Пошаговое согласование
* Тщательное проектирование
* Избыточное документирование и логирование  
  (минимизация количества итераций)

> **Примечание:** Полное описание пайплайна может быть вынесено  
> в отдельный файл `pipeline_delta_v_description.md`.

---

## 1. Этап 1 — Постановка задачи и формирование «Семантической Матрицы»

### 1.1. Prompt этапа 1

```text
Контекст:
  • Работаем по пайплайну «Дельта‑V».
  • Предыдущий этап: 0 (Инициация проекта).
  • Текущий этап: 1 – Постановка задачи и формирование «Семантической Матрицы».
  • Следующий этап: 2 – Выбор архитектуры и фреймворков (после утверждения матрицы).

Цель:
  Детально обсудить задачу, её цели, пользовательские сценарии, входные/выходные данные,
  критерии успеха и на основе этого составить «Семантическую Матрицу».

Необходимо обсудить:
  – Цель проекта/фичи  
  – Основные функции  
  – Пользовательские сценарии (User Stories)  
  – Входные данные  
  – Выходные данные/результаты  
  – Ключевые сущности  
  – Ограничения и допущения  
  – Критерии успеха  
  – Нефункциональные требования
```

### 1.2. Обсуждение задачи

*Здесь фиксируются ключевые вопросы, ответы и идеи.*

### 1.3. Итог этапа 1 — утверждённая «Семантическая Матрица»

| Раздел | Содержание |
| ------ | ---------- |
| **Глоссарий** | … |
| **Описание модулей** | … |
| **Схема взаимодействия** | … |
| **Основные сущности** | … |
| **Бизнес‑правила** | … |
| **Нефункциональные требования** | … |
| **Критерии успеха** | … |

---

## 2. Этап 2 — Выбор архитектуры и фреймворков

### 2.1. Prompt этапа 2

```text
Контекст:
  • Предыдущий этап: 1 (утверждена «Семантическая Матрица»).
  • Текущий этап: 2 – Выбор архитектуры и фреймворков.
  • Следующий этап: 3 – Формирование совместимого окружения.

Задача:
  На основе матрицы обсудить и утвердить:
    – Общую архитектуру (монолит, микросервисы, …)  
    – Язык(и) программирования  
    – Основные фреймворки/библиотеки  
    – Базы данных  
    – Инструменты CI/CD  
    – Паттерны проектирования
```

### 2.2. Обсуждение

* … *

### 2.3. Итог этапа 2 — утверждённый технологический стек

* **Архитектура:** …  
* **Языки:** …  
* **Фреймворки:**  
  * Бэкенд — …  
  * Фронтенд — …  
  * БД — …  
  * ML/AI — …  
* **Паттерны:** …

---

## 3. Этап 3 — Формирование совместимого окружения

### 3.1. Prompt этапа 3

```text
Цель:
  Определить конкретные версии зависимостей и сформировать файл окружения
  (например, `requirements.txt`).
```

### 3.2. Обсуждение версий

* … *

### 3.3. Итог этапа 3 — файл зависимостей

```ini
# Пример requirements.txt
flask==2.0.1
pandas>=1.3.0,<2.0.0
…
```

---

## 4. Этап 4 — Универсальный скрипт проверки окружения

### 4.1. Prompt этапа 4

```text
Цель:
  Создать `check_env.py`, который проверит:
    – версию интерпретатора  
    – версии библиотек  
    – наличие GPU / CUDA (опционально)  
    – корректность драйверов
```

### 4.2. Обсуждение

* … *

### 4.3. Итог этапа 4 — скрипт `check_env.py`

```python
#!/usr/bin/env python
"""
Проверка окружения проекта.
"""

import importlib
import logging
import sys

REQUIRED = {
    "flask": "2.0.1",
    "pandas": ("1.3.0", "2.0.0"),
}

def main() -> None:
    logging.basicConfig(level=logging.INFO)
    logging.info("Python %s.%s.%s", *sys.version_info[:3])
    for pkg, ver in REQUIRED.items():
        try:
            module = importlib.import_module(pkg)
            logging.info("%s %s ✔", pkg, module.__version__)
        except ImportError:
            logging.error("%s ❌ (не установлен)", pkg)

if __name__ == "__main__":
    main()
```

---

## 5. Этап 5 — Проектирование на уровне файлов («Паспорта файлов»)

### 5.1. Prompt этапа 5

```text
Задачи:
  1. Предложить декомпозицию на файлы/модули.
  2. Для каждого файла оформить «Паспорт».
```

### 5.2. Обсуждение

* … *

### 5.3. Итог этапа 5 — утверждённые паспорта

<details>
<summary>Пример паспорта</summary>

```text
# PASSPORT #
# Файл: api.py
# Назначение: REST‑интерфейс приложения
# Основная функциональность: эндпоинт /v1/…
# Связи:
#   – Зависит от: service.py
#   – Используется в: —
# Ключевые сущности: Flask app
# Автор: AI‑Ассистент
# Дата создания: 2025‑06‑25
# Версия: 1.0.0
# Статус: В разработке
# END PASSPORT #
```

</details>

---

## 6. Этап 6 — Проектирование на уровне функций («Контракты функций»)

### 6.1. Prompt этапа 6

```text
Для каждой ключевой функции/метода оформить «Контракт».
```

### 6.2. Обсуждение

* … *

### 6.3. Итог этапа 6 — утверждённые контракты

<details>
<summary>Пример контракта</summary>

```text
# CONTRACT #
# Функция: get_user(id: int) -> User
# Назначение: Получить пользователя по ID.
# Аргументы:
#   – id (int): уникальный идентификатор
# Возвращает:
#   – User | None
# Исключения: ValueError, DBError
# END CONTRACT #
```

</details>

---

## 7. Этап 7 — Написание кода, документации и логирования

### 7.1. Prompt этапа 7

```text
Написать реализацию функций согласно контрактам
и снабдить их docstring + детальным логированием.
```

### 7.2. Обсуждение / ревью кода

* … *

### 7.3. Итог этапа 7 — утверждённый код

Код приводится в соответствующих файлах с обновлёнными «Паспортами».

---

## 8. Этап 8 — Сборка, тестирование и итерации

### 8.1. Prompt этапа 8

```text
Цель:
  – Интеграция всех компонентов  
  – Запуск тестов  
  – Анализ логов  
  – План итераций при необходимости
```

### 8.2. Обсуждение стратегии и результатов

| Тест‑кейс | Статус | Комментарий |
|-----------|--------|-------------|
| TC‑01 | ✅ | … |
| TC‑02 | ❌ | … |

### 8.3. Итог этапа 8

* Итоги тестирования: …  
* План дальнейших итераций: …

---

## Приложения

### A.1. Диаграммы

*Можно разместить PlantUML / Mermaid‑блоки или ссылки.*

### A.2. Дополнительные заметки

*…*
